"use strict";(self.webpackChunkEIMS=self.webpackChunkEIMS||[]).push([[548],{1548:(P,c,a)=>{a.r(c),a.d(c,{AuthModule:()=>_});var l=a(1368),g=a(2992),r=a(6504),u=a(7312),n=a(2116),f=a(7048);function h(t,s){if(1&t&&(n.I0R(0,"div",31)(1,"small",32),n.OEk(2),n.C$Y()()),2&t){const i=n.GaO();n.yG2(2),n.cNF(i.errorMessage)}}function x(t,s){if(1&t&&(n.I0R(0,"div",33)(1,"small",32),n.OEk(2),n.C$Y()()),2&t){const i=n.GaO();n.yG2(2),n.cNF(i.successMessage)}}function C(t,s){1&t&&(n.I0R(0,"span",34),n.OEk(1," Enter your Domain credentials "),n.C$Y())}function y(t,s){1&t&&(n.I0R(0,"span",34),n.OEk(1," Enter password "),n.C$Y())}function b(t,s){1&t&&n.wR5(0,"div",35)}function w(t,s){1&t&&(n.I0R(0,"span"),n.OEk(1," Login "),n.C$Y())}function v(t,s){1&t&&n.wR5(0,"img",36)}const m=t=>({"is-invalid":t}),I=[{path:"sign-in",component:(()=>{class t{constructor(i,o,e,p){this.http=i,this.router=o,this.fb=e,this.authService=p,this.errorMessage="",this.isLoading=!1,this.isLoggedIn=!1}ngOnInit(){this.Form=this.fb.group({username:["",[r.AQ.required]],password:["",[r.AQ.required]]})}onSubmit(){this.isLoading=!0,this.authService.login(this.Form.value.username,this.Form.value.password).subscribe(e=>{this.isLoading=!1,this.successMessage="Logging you in, please wait...",localStorage.setItem("TOKEN",e.body.token),localStorage.setItem("USER",JSON.stringify(e.body.data.staffNo)),localStorage.setItem("ROLES",JSON.stringify(e.body.data.roles.map(d=>d.name))),e.body.data.roles.map(d=>d.name).includes("ADMIN")?this.router.navigate(["/dashboard"]):this.router.navigate(["/intergrity-award"])},e=>{this.isLoading=!1,this.errorMessage=e.error.description,console.error("An error was encountered. Below is the Error:",e)})}static#n=this.\u0275fac=function(o){return new(o||t)(n.GI1(f.KK),n.GI1(g.E5),n.GI1(r.im),n.GI1(u.o))};static#t=this.\u0275cmp=n.In1({type:t,selectors:[["app-sign-in"]],decls:37,vars:15,consts:[[1,"row","d-flex","bg-login"],[1,"login-wrapper"],[1,"card","h-100",2,"border-radius","12px"],[1,"card-body","p-0","h-100","row","no-gutters"],[1,"banner","col-md-6","p-4"],[1,"text-center"],[1,"message1"],[1,"message2"],[1,"message3"],["src","./assets/img/auth-imgs/banner.svg","alt","...","width","100%","height","220px"],[1,"col-md-6","login-form"],[1,"eims-logo-container",2,"height","40%"],["src","./assets/img/auth-imgs/eims-logo.png",1,"eims-logo"],[1,"form-container"],[3,"formGroup","ngSubmit"],["class","alert alert-danger alertss p-1",4,"ngIf"],["class","alert alert-success p-1",4,"ngIf"],[1,"form-group"],[1,"input-group"],["formControlName","username","required","","placeholder","Enter Username(domain)","type","text",1,"form-control",3,"ngClass"],[1,"invalid-feedback","p-1","pt-0","mt-0","pl-2"],["class","text-left",4,"ngIf"],[1,"input-group","input-group-alternative"],["formControlName","password","placeholder","Enter Password(domain)",1,"form-control",3,"type","ngClass"],[1,"invalid-feedback","w-100","p-1","pt-0","mt-0","pl-2"],[1,"buttonn"],[1,"col-12"],["type","submit",1,"submit-btn"],["id","loading",4,"ngIf"],[4,"ngIf"],["src","./assets/img/auth-imgs/login-icon.png","alt","Icon","class","icon-after-login",4,"ngIf"],[1,"alert","alert-danger","alertss","p-1"],[1,"error-text"],[1,"alert","alert-success","p-1"],[1,"text-left"],["id","loading"],["src","./assets/img/auth-imgs/login-icon.png","alt","Icon",1,"icon-after-login"]],template:function(o,e){1&o&&(n.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),n.OEk(7," Hello and welcome to Ethics Information Management System"),n.C$Y(),n.I0R(8,"h5",7),n.OEk(9,"\u201cIntegrity, transparency and the fight against corruption have to be part of the culture. They have to be taught as fundamental values.\u201d"),n.C$Y(),n.I0R(10,"h5",8),n.OEk(11," -Angel Gurria,OECD secretary general"),n.C$Y()(),n.I0R(12,"div"),n.wR5(13,"img",9),n.C$Y()(),n.I0R(14,"div",10)(15,"div",11),n.wR5(16,"img",12),n.C$Y(),n.I0R(17,"div",13)(18,"form",14),n.qCj("ngSubmit",function(){return e.onSubmit()}),n.yuY(19,h,3,1,"div",15)(20,x,3,1,"div",16),n.I0R(21,"div",17)(22,"div",18),n.wR5(23,"input",19),n.I0R(24,"span",20),n.yuY(25,C,2,0,"span",21),n.C$Y()()(),n.I0R(26,"div",17)(27,"div",22),n.wR5(28,"input",23),n.I0R(29,"span",24),n.yuY(30,y,2,0,"span",21),n.C$Y()()(),n.I0R(31,"div",25)(32,"div",26)(33,"button",27),n.yuY(34,b,1,0,"div",28)(35,w,2,0,"span",29)(36,v,1,0,"img",30),n.C$Y()()()()()()()()()()),2&o&&(n.yG2(18),n.E7m("formGroup",e.Form),n.yG2(),n.E7m("ngIf",e.errorMessage),n.yG2(),n.E7m("ngIf",e.successMessage),n.yG2(3),n.E7m("ngClass",n.S45(11,m,!e.Form.get("username").valid&&e.Form.get("username").touched)),n.yG2(2),n.E7m("ngIf",!e.Form.get("username").valid),n.yG2(3),n.E7m("type",e.fieldTextType?"text":"password")("ngClass",n.S45(13,m,e.Form.get("password").touched&&!e.Form.get("password").valid)),n.yG2(2),n.E7m("ngIf",!e.Form.get("password").valid),n.yG2(4),n.E7m("ngIf",e.isLoading),n.yG2(),n.E7m("ngIf",!e.isLoading),n.yG2(),n.E7m("ngIf",!e.isLoading))},dependencies:[l.QF,l.u_,r.sz,r.ot,r.ue,r.u,r.eJ,r.uW,r.Wo],styles:[".bg-login[_ngcontent-%COMP%]{display:flex;background-image:url(auth-bg.dae41706987a84c7.svg);background-size:cover;height:100vh;width:100vw;justify-content:center;align-items:center;margin:0;overflow:auto}.login-wrapper[_ngcontent-%COMP%]{width:800px;box-shadow:0 0 2px #00000059;margin:0;border-radius:12px;display:flex}.card[_ngcontent-%COMP%]{flex:1;margin:0}.text-center[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.banner[_ngcontent-%COMP%]{display:flex;background-color:#f4f0ef;border-radius:12px 0 0 12px;flex-direction:column;justify-content:space-between}.message1[_ngcontent-%COMP%]{font-size:20px;color:#402d27;text-align:left;font-weight:700}.message2[_ngcontent-%COMP%]{font-size:12px;color:#402d27;margin-top:12px;padding-top:20px;text-align:left}.message3[_ngcontent-%COMP%]{font-size:12px;color:#402d27;padding-top:20px;text-align:left}.login-form[_ngcontent-%COMP%]{background-color:#fffefe;border-radius:0 12px 12px 0;display:flex;flex-direction:column;justify-content:space-around;align-items:center}.eims-logo-container[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;align-items:center;margin-bottom:20px;padding:0}.eims-logo[_ngcontent-%COMP%]{width:250px;overflow:visible;margin:0 0 20px}.form-container[_ngcontent-%COMP%]{justify-content:space-around;width:280px;height:300px;margin-bottom:10px;padding:0;box-sizing:border-box}.form-group[_ngcontent-%COMP%]{margin-top:15px}.alertss[_ngcontent-%COMP%]{position:absolute;top:0;margin-top:130px;z-index:10}.form-control[_ngcontent-%COMP%]{flex:1!important;border-radius:.375rem!important;width:100%;display:flex;flex-direction:row}.input-group-text[_ngcontent-%COMP%]{border-radius:.375rem!important}.outlink[_ngcontent-%COMP%]{color:#9f8d88;font-size:12px}.error-text[_ngcontent-%COMP%]{font-size:10px}.form-control[_ngcontent-%COMP%]{background-color:#f2f2f2}.input-field[_ngcontent-%COMP%]{outline:none;flex:1;border:none;border-radius:.375rem;height:calc(1.5em + 1.25rem + 2px);padding:.625rem .75rem;font-size:.875rem;font-weight:400;line-height:1.5;color:#8898aa;background-color:#f2f2f2;transition:all .2s cubic-bezier(.68,-.55,.265,1.55)}.buttonn[_ngcontent-%COMP%]{margin-top:80px}.submit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:30px;outline:none;border:solid #E12827;border-width:1px;background-color:#ffe0e0;margin:0;width:100%;height:40px}#loading[_ngcontent-%COMP%]{text-align:center;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#e12827;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;-webkit-animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{-webkit-transform:rotate(360deg)}}@media only screen and (min-width: 823px){.login-wrapper[_ngcontent-%COMP%]{width:750px;box-sizing:border-box}}@media only screen and (max-width: 822px){.login-wrapper[_ngcontent-%COMP%]{width:750px}.alertss[_ngcontent-%COMP%]{margin-top:110px}}@media only screen and (max-width: 770px){.login-wrapper[_ngcontent-%COMP%]{width:520px;min-height:360px;margin-top:20px}.login-form[_ngcontent-%COMP%]{min-height:360px;border-radius:12px}.loginform[_ngcontent-%COMP%]{height:100%}.banner[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 415px){.login-wrapper[_ngcontent-%COMP%]{width:360px}}@media only screen and (max-width: 390px){.login-wrapper[_ngcontent-%COMP%]{width:334px}}@media only screen and (max-width: 365px){.login-wrapper[_ngcontent-%COMP%]{width:310px}}@media only screen and (max-width: 280px){.login-wrapper[_ngcontent-%COMP%]{width:250px}}"]})}return t})()},{path:"sign-up",component:(()=>{class t{constructor(){}ngOnInit(){}static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=n.In1({type:t,selectors:[["app-sign-up"]],decls:2,vars:0,template:function(o,e){1&o&&(n.I0R(0,"p"),n.OEk(1,"sign-up works!"),n.C$Y())}})}return t})()}];let O=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.a4G({type:t});static#e=this.\u0275inj=n.s3X({imports:[g.qQ.forChild(I),g.qQ]})}return t})();var M=a(1560);let _=(()=>{class t{static#n=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=n.a4G({type:t});static#e=this.\u0275inj=n.s3X({imports:[l.MD,O,M.oB,r.sl,r.y,g.qQ]})}return t})()}}]);